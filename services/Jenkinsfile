podTemplate(yaml: '''
    apiVersion: v1
    kind: Pod
    spec:
      containers:
      - name: docker
        image: docker:latest

        command:
        - sleep
        args:
        - 99d
''') {
  node(POD_LABEL) {
    stage('Build') {
      
      container('docker') {
        stage('Building') {
          sh 'apk update'  
          sh 'apk add git'
          sh 'git clone https://github.com/JuanDavidBallesteros/rental_app.git .'
          sh 'docker build -t auth .'
        }
      }
    }

  }
}


